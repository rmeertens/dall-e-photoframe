<!DOCTYPE html>
<html>

<body>

    <h2>Dall-e art </h2>

    <img src="https://random-dalle-images.s3.amazonaws.com/50646040.png", id="image">

    <br>
    <button onclick="get_and_show_random_image()">Next image</button>

    <div>
        <h3>What's happening</h3>
        <p>
            Welcome to a super quick demo with random images which will be cycled every 8 seconds. 
        </p>
        <h3>How is this generated?</h3>
        <p>
            The prompts consist of 3 parts: start, middle and end. 
            Those parts are randomly selected from the list of available prompts, which are all generated by GPT-3. 

            The images themselves are based on the prompt are generated using Dall-e mini, using https://craiyon.com/. 

            Enjoy!
        </p>

        <h3>Who made this?</h3>
        It is me, Roland!
    </div>
    <script>
        function change_image(image_url){
            document.getElementById("image").src = image_url;
        }

        function get_and_show_random_image(){
            URL = 'https://8ql73rfkz0.execute-api.us-east-1.amazonaws.com/default/get_random_dalle_image'
            fetch(URL)
                .then(response => response.json())
                .then(data => change_image(data.image))
        }
        
        function keep_changing_images_and_setting_timeouts(){
            get_and_show_random_image();
            setTimeout(keep_changing_images_and_setting_timeouts, 8000);
        }
        keep_changing_images_and_setting_timeouts();
    </script>
</body>

</html>